<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ZeroD documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ZeroD documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>Tab2Page</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/tab2/tab2.page.ts</code>
</p>





<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-tab2</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>tab2.page.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>tab2.page.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#accidenteIcon">accidenteIcon</a>
                            </li>
                            <li>
                                <a href="#chekPer">chekPer</a>
                            </li>
                            <li>
                                <a href="#colorB">colorB</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#eventCtrl">eventCtrl</a>
                            </li>
                            <li>
                                <a href="#latitud">latitud</a>
                            </li>
                            <li>
                                <a href="#listadoMarcaAccidente">listadoMarcaAccidente</a>
                            </li>
                            <li>
                                <a href="#listadoMarcaMeteorology">listadoMarcaMeteorology</a>
                            </li>
                            <li>
                                <a href="#longitud">longitud</a>
                            </li>
                            <li>
                                <a href="#manualGMarker">manualGMarker</a>
                            </li>
                            <li>
                                <a href="#manualMarker">manualMarker</a>
                            </li>
                            <li>
                                <a href="#map">map</a>
                            </li>
                            <li>
                                <a href="#mapContainer">mapContainer</a>
                            </li>
                            <li>
                                <a href="#markerGroupA">markerGroupA</a>
                            </li>
                            <li>
                                <a href="#markerGroupM">markerGroupM</a>
                            </li>
                            <li>
                                <a href="#meteoIcon">meteoIcon</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#modalController">modalController</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#navCtrl">navCtrl</a>
                            </li>
                            <li>
                                <a href="#ocultaA">ocultaA</a>
                            </li>
                            <li>
                                <a href="#ocultaM">ocultaM</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addMark">addMark</a>
                            </li>
                            <li>
                                <a href="#chargeAllMarkAccident">chargeAllMarkAccident</a>
                            </li>
                            <li>
                                <a href="#chargeAllMarkMeteorology">chargeAllMarkMeteorology</a>
                            </li>
                            <li>
                                <a href="#ionViewDidLeave">ionViewDidLeave</a>
                            </li>
                            <li>
                                <a href="#ionViewWillEnter">ionViewWillEnter</a>
                            </li>
                            <li>
                                <a href="#loadmap">loadmap</a>
                            </li>
                            <li>
                                <a href="#locateme">locateme</a>
                            </li>
                            <li>
                                <a href="#onModalClose">onModalClose</a>
                            </li>
                            <li>
                                <a href="#touchMark">touchMark</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(modalController: ModalController, cmm: CustomModalModule, cloudS: <a href="../injectables/CloudserviceService.html">CloudserviceService</a>, navCtrl: NavController, loading: CustomLoading, openM: <a href="../injectables/NavegacionService.html">NavegacionService</a>, nativeStorage: NativeStorage, netwoekS: <a href="../injectables/NetworkService.html">NetworkService</a>, diagnostic: Diagnostic, toast: CustomToast, translate: TranslateService, eventCtrl: Events, androidPermissions: AndroidPermissions)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="55" class="link-to-prism">src/app/tab2/tab2.page.ts:55</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>modalController</td>
                                                  
                                                        <td>
                                                                    <code>ModalController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del controlador del modal</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>cmm</td>
                                                  
                                                        <td>
                                                                    <code>CustomModalModule</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto servicio del custom modal</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>cloudS</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/CloudserviceService.html" target="_self" >CloudserviceService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto servicio de almacenamiento en la nube</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>navCtrl</td>
                                                  
                                                        <td>
                                                                    <code>NavController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto servicio de navegacion</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>loading</td>
                                                  
                                                        <td>
                                                                    <code>CustomLoading</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto servicio del loading</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>openM</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NavegacionService.html" target="_self" >NavegacionService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objejo del servicio de navegacion que establece variables temporales</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>nativeStorage</td>
                                                  
                                                        <td>
                                                                    <code>NativeStorage</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del almacenamiento nativo</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>netwoekS</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NetworkService.html" target="_self" >NetworkService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del servicio que comprueba la conexion a internet o gps</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>diagnostic</td>
                                                  
                                                        <td>
                                                                    <code>Diagnostic</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del servicio que comprueba el estado de los elementos nativos</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>toast</td>
                                                  
                                                        <td>
                                                                    <code>CustomToast</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del servicio del custom toast</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>translate</td>
                                                  
                                                        <td>
                                                                    <code>TranslateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del servicio de la traducción</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>eventCtrl</td>
                                                  
                                                        <td>
                                                                    <code>Events</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del servio de Events</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>androidPermissions</td>
                                                  
                                                        <td>
                                                                    <code>AndroidPermissions</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>objeto del servicio que administra los permisos de android</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addMark"></a>
                    <span class="name">
                        <b>
                            addMark
                        </b>
                        <a href="#addMark"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addMark(mapMark1?, mapMark2?)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="409"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:409</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Este metodo es el encargado de crear una marca en el lugar señalado por el usuario o
añade una marca al pulsar el botón añadir marca en la ubicación del usuario.
Comprueba al inicio el estado de los permisos para acceder al GPS
Comprueba que el gps este activado
Recibe la longitud y la latitud de la pulsación en el mapa</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mapMark1</td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>latitud de la marca</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>mapMark2</td>

                                    <td>
                                        Yes
                                    </td>


                                    <td>
                                        <p>longitud de la marca</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chargeAllMarkAccident"></a>
                    <span class="name">
                        <b>
                            chargeAllMarkAccident
                        </b>
                        <a href="#chargeAllMarkAccident"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>chargeAllMarkAccident(hide)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="348"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:348</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Este metodo es el encargado de mostrar en el mapa las ubicaciones de los avisos por meteorologia
Se mostraran o no segun el valor del boton del menu de configuracion del mapa
Recibe un boleano con esta información</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>hide</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>boolean </p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chargeAllMarkMeteorology"></a>
                    <span class="name">
                        <b>
                            chargeAllMarkMeteorology
                        </b>
                        <a href="#chargeAllMarkMeteorology"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>chargeAllMarkMeteorology(hide)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="290"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:290</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Este metodo es el encargado de mostrar en el mapa las ubicaciones de los avisos por meteorologia
Se mostraran o no segun el valor del boton del menu de configuracion del mapa
Recibe un boleano con esta informacion</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>hide</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>boolean </p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ionViewDidLeave"></a>
                    <span class="name">
                        <b>
                            ionViewDidLeave
                        </b>
                        <a href="#ionViewDidLeave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ionViewDidLeave()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="187"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:187</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ionViewWillEnter"></a>
                    <span class="name">
                        <b>
                            ionViewWillEnter
                        </b>
                        <a href="#ionViewWillEnter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ionViewWillEnter()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="106"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:106</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadmap"></a>
                    <span class="name">
                        <b>
                            loadmap
                        </b>
                        <a href="#loadmap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadmap()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="200"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:200</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Funcion encargada de cargar el mapa cuando cambiamos a la tab2
Comprueba si se ha navegado desde el modal o desde las tabs</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="locateme"></a>
                    <span class="name">
                        <b>
                            locateme
                        </b>
                        <a href="#locateme"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>locateme()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="242"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:242</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Esta funcion es activada cuado pulsamos el boton de localizar en el mapa
Primero comprueba si tenemos permisos para acceder al gps del dispositivo
Si no es asi no pide permisos
Comprueba si tenemos el gps activado o no lanzando un toast</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onModalClose"></a>
                    <span class="name">
                        <b>
                            onModalClose
                        </b>
                        <a href="#onModalClose"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onModalClose()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="480"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:480</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo encargado de devolver el estado inicial 
de los componentes de la vista de la vista cuando
el modal se cierra</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="touchMark"></a>
                    <span class="name">
                        <b>
                            touchMark
                        </b>
                        <a href="#touchMark"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>touchMark(mark: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, lat: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, lng: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="530"
                            class="link-to-prism">src/app/tab2/tab2.page.ts:530</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo que recibe la marca, la longitud y la latitud de la marca creada vacia
Y lanza el modal para añadir un aviso en esa posición</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mark</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>marca que ha sido pulsada en el mapa</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>lat</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>latitud de la ubicación de la marca</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>lng</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>longitud de la ubicación de la marca</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="accidenteIcon"></a>
                        <span class="name">
                            <b>
                            accidenteIcon</b>
                            <a href="#accidenteIcon"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>leaflet.icon({
    iconUrl: &#x27;../../assets/icon/car.png&#x27;,
    iconSize: [20, 40], // size of the icon

  })</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/tab2/tab2.page.ts:45</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="chekPer"></a>
                        <span class="name">
                            <b>
                            chekPer</b>
                            <a href="#chekPer"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/tab2/tab2.page.ts:43</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="colorB"></a>
                        <span class="name">
                            <b>
                            colorB</b>
                            <a href="#colorB"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/tab2/tab2.page.ts:42</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="eventCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            eventCtrl</b>
                            <a href="#eventCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Events</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="87" class="link-to-prism">src/app/tab2/tab2.page.ts:87</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">objeto del servio de Events</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="latitud"></a>
                        <span class="name">
                            <b>
                            latitud</b>
                            <a href="#latitud"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/tab2/tab2.page.ts:34</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="listadoMarcaAccidente"></a>
                        <span class="name">
                            <b>
                            listadoMarcaAccidente</b>
                            <a href="#listadoMarcaAccidente"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/iAccidente.html" target="_self" >iAccidente[]</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/tab2/tab2.page.ts:36</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="listadoMarcaMeteorology"></a>
                        <span class="name">
                            <b>
                            listadoMarcaMeteorology</b>
                            <a href="#listadoMarcaMeteorology"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/iMeteorology.html" target="_self" >iMeteorology[]</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/tab2/tab2.page.ts:37</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="longitud"></a>
                        <span class="name">
                            <b>
                            longitud</b>
                            <a href="#longitud"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/tab2/tab2.page.ts:35</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="manualGMarker"></a>
                        <span class="name">
                            <b>
                            manualGMarker</b>
                            <a href="#manualGMarker"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>leaflet.featureGroup()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/tab2/tab2.page.ts:40</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="manualMarker"></a>
                        <span class="name">
                            <b>
                            manualMarker</b>
                            <a href="#manualMarker"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/tab2/tab2.page.ts:41</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="map"></a>
                        <span class="name">
                            <b>
                            map</b>
                            <a href="#map"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/tab2/tab2.page.ts:33</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="mapContainer"></a>
                        <span class="name">
                            <b>
                            mapContainer</b>
                            <a href="#mapContainer"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;map&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/tab2/tab2.page.ts:30</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="markerGroupA"></a>
                        <span class="name">
                            <b>
                            markerGroupA</b>
                            <a href="#markerGroupA"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>leaflet.featureGroup()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/tab2/tab2.page.ts:39</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="markerGroupM"></a>
                        <span class="name">
                            <b>
                            markerGroupM</b>
                            <a href="#markerGroupM"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>leaflet.featureGroup()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/tab2/tab2.page.ts:38</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="meteoIcon"></a>
                        <span class="name">
                            <b>
                            meteoIcon</b>
                            <a href="#meteoIcon"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>leaflet.icon({
    iconUrl: &#x27;../../assets/icon/cloud.png&#x27;,
    iconSize: [20, 40], // size of the icon

  })</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/app/tab2/tab2.page.ts:51</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="modalController"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            modalController</b>
                            <a href="#modalController"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>ModalController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/tab2/tab2.page.ts:76</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">objeto del controlador del modal</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            navCtrl</b>
                            <a href="#navCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NavController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">src/app/tab2/tab2.page.ts:79</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">objeto servicio de navegacion</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ocultaA"></a>
                        <span class="name">
                            <b>
                            ocultaA</b>
                            <a href="#ocultaA"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/tab2/tab2.page.ts:31</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ocultaM"></a>
                        <span class="name">
                            <b>
                            ocultaM</b>
                            <a href="#ocultaM"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/tab2/tab2.page.ts:32</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { CustomToast } from &#x27;./../custom-modal/custom-toast&#x27;;
import { CloudserviceService } from &#x27;./../servicios/cloudservice.service&#x27;;
import { AddAlertComponent } from &#x27;./../customComponent/add-alert/add-alert.component&#x27;;
import { CustomModalModule } from &#x27;./../custom-modal/custom-modal.module&#x27;;
import { Component, ViewChild, ElementRef} from &#x27;@angular/core&#x27;;
import leaflet from &#x27;leaflet&#x27;;
import { CustomLoading } from &#x27;../custom-modal/custom-loading&#x27;;
import { ModalController, NavController, Events } from &#x27;@ionic/angular&#x27;;
import { iAccidente } from &#x27;../model/iAccident&#x27;;
import { iMeteorology } from &#x27;../model/iMeteorology&#x27;;
import { NavegacionService } from &#x27;../servicios/navegacion.service&#x27;;
import { TranslateService } from &#x27;@ngx-translate/core&#x27;;
import { NativeStorage } from &#x27;@ionic-native/native-storage/ngx&#x27;
import { NetworkService } from &#x27;../servicios/network.service&#x27;;
import { Diagnostic } from &#x27;@ionic-native/diagnostic/ngx&#x27;;
import { AndroidPermissions } from &#x27;@ionic-native/android-permissions/ngx&#x27;;







@Component({
  selector: &#x27;app-tab2&#x27;,
  templateUrl: &#x27;tab2.page.html&#x27;,
  styleUrls: [&#x27;tab2.page.scss&#x27;]
})
export class Tab2Page {
  @ViewChild(&#x27;map&#x27;) mapContainer: ElementRef;
  ocultaA: any;
  ocultaM: any;
  map: any;
  latitud: any;
  longitud: any;
  listadoMarcaAccidente: iAccidente[] &#x3D; [];
  listadoMarcaMeteorology: iMeteorology[] &#x3D; [];
  markerGroupM &#x3D; leaflet.featureGroup();
  markerGroupA &#x3D; leaflet.featureGroup();
  manualGMarker &#x3D; leaflet.featureGroup();
  manualMarker: any;
  colorB: any;
  chekPer: any;

  accidenteIcon &#x3D; leaflet.icon({
    iconUrl: &#x27;../../assets/icon/car.png&#x27;,
    iconSize: [20, 40], // size of the icon

  });

  meteoIcon &#x3D; leaflet.icon({
    iconUrl: &#x27;../../assets/icon/cloud.png&#x27;,
    iconSize: [20, 40], // size of the icon

  });



/**
 * 
 * @param modalController objeto del controlador del modal
 * @param cmm objeto servicio del custom modal
 * @param cloudS objeto servicio de almacenamiento en la nube
 * @param navCtrl objeto servicio de navegacion
 * @param loading objeto servicio del loading
 * @param openM objejo del servicio de navegacion que establece variables temporales
 * @param nativeStorage objeto del almacenamiento nativo
 * @param netwoekS objeto del servicio que comprueba la conexion a internet o gps
 * @param diagnostic objeto del servicio que comprueba el estado de los elementos nativos
 * @param toast objeto del servicio del custom toast
 * @param translate objeto del servicio de la traducción
 * @param eventCtrl objeto del servio de Events
 * @param androidPermissions objeto del servicio que administra los permisos de android
 */
  constructor(
    public modalController: ModalController,
    private cmm: CustomModalModule,
    private cloudS: CloudserviceService,
    public navCtrl: NavController,
    private loading: CustomLoading,
    private openM: NavegacionService,
    private nativeStorage: NativeStorage,
    private netwoekS: NetworkService,
    private diagnostic: Diagnostic,
    private toast: CustomToast,
    private translate: TranslateService,
    public eventCtrl: Events,
    private androidPermissions: AndroidPermissions
    

  ) {
 /*
 Cambiamos el valor del color del boton
 En funcion de la calidad de gps que tengamos.
 Falta implementación
 */ 
    this.colorB&#x3D;this.netwoekS.colorN;
    
  }


  /*este metodo se acciona cuando se vuelve a entrar en la pagina
    *carga el mapa de nuevo y actualiza las marcas
    Volvemos a comprobar la conexion a internet
  */
  ionViewWillEnter() {
    this.loading.show(&quot;&quot;);
  /*Cambiamos el valor del color del icono de señal
    En funcion de la calidad de gps que tengamos.
 */
    this.colorB&#x3D;this.netwoekS.colorN;


//Se comprueba la conexión a internet y se hacen las respectivas operaciones segun tengamos o no activada la conexion
    
    if(this.netwoekS.previousStatus &#x3D;&#x3D; 1){
      this.loadmap();
    }else if(this.netwoekS.previousStatus &#x3D;&#x3D; 0){

      this.loadmap();
/*comprueba si existe la variable ocultaA y ocultaM en la memoria del dispositivo
Si no es asi se crea la variable en la memoria y se inicializa en la clase
Si ya existe se obtiene el valor y se asigna a la de la clase
Esta variable es la que nos permite ocultar o habilitar las marcas en el mapa
*/
this.nativeStorage.getItem(&#x27;ocultaA&#x27;).then((d)&#x3D;&gt;{
  if(d&#x3D;&#x3D;null){
    this.ocultaA&#x3D;false;
    this.chargeAllMarkAccident(this.ocultaA);
    this.nativeStorage.setItem(&#x27;ocultaA&#x27;, {property: &#x27;false&#x27;})
    .then(
      () &#x3D;&gt; console.log(&#x27;Stored item!&#x27;),
      error &#x3D;&gt; console.error(&#x27;Error storing item&#x27;, error)
    );
  }else{
      this.ocultaA&#x3D;d;
      this.nativeStorage.setItem(&#x27;ocultaA&#x27;, {property: this.ocultaA})
      .then(
        () &#x3D;&gt; console.log(&#x27;Stored item!&#x27;),
        error &#x3D;&gt; console.error(&#x27;Error storing item&#x27;, error)
      );
      this.chargeAllMarkAccident(this.ocultaA);
  }

  this.nativeStorage.getItem(&#x27;ocultaM&#x27;).then((d)&#x3D;&gt;{
    if(d&#x3D;&#x3D;null){
      this.ocultaM&#x3D;false;
      this.chargeAllMarkMeteorology(this.ocultaM);
      this.nativeStorage.setItem(&#x27;ocultaM&#x27;, {property: &#x27;false&#x27;})
      
      .then(
        () &#x3D;&gt; console.log(&#x27;Stored item!&#x27;),
        error &#x3D;&gt; console.error(&#x27;Error storing item&#x27;, error)
      );
    }else{
        this.ocultaM&#x3D;d;
        
        this.chargeAllMarkMeteorology(this.ocultaM);
        this.nativeStorage.setItem(&#x27;ocultaM&#x27;, {property: this.ocultaM})
      
      .then(
        () &#x3D;&gt; console.log(&#x27;Stored item!&#x27;),
        error &#x3D;&gt; console.error(&#x27;Error storing item&#x27;, error)
      );
    }

  });
});
      

      if(this.openM.getAddM()&#x3D;&#x3D;true){
        
          this.addMark();
          this.openM.setAddM();
      }
      
      
    }
    this.loading.hide();


  }

  /*Este metodo se acciona cuando se va a cerrar la tab
    establecemos el valor de la variable del servicio a false
  */
  ionViewDidLeave() {
    this.openM.setCargaMapa();
    this.map.remove();
   

  }


  /**
   * Funcion encargada de cargar el mapa cuando cambiamos a la tab2
   * Comprueba si se ha navegado desde el modal o desde las tabs
   *
   */
  loadmap() {
    //si el mapa es abierto desde el modal de ver mas informacion de la alerta
    //se establecera la vista encima de la alerta pulsada
    if (this.openM.getCargarMapa()&#x3D;&#x3D;true) {
      this.map &#x3D; leaflet.map(&quot;map&quot;).fitWorld().setView([this.openM.getLatitud(), this.openM.getLongitud()], 15);
      //this.map.on(&#x27;click&#x27;, this.onMapClick)
      //establecemos los valores a true para mostrar las marcas
      
      
    } else {
      //Si el mapa se ha abierto desde los tabs se establecera la vista en general sobre el mapa de españa
      this.map &#x3D; leaflet.map(&quot;map&quot;).fitWorld().setView([40.416665, -3.705315], 6);
      this.map.on(&#x27;click&#x27;, (e)&#x3D;&gt;{
        //Este evento añade una marca a nuestro mapa cuando hacemos clic sobre el
        this.addMark(e.latlng.lat, e.latlng.lng);
        //this.onMapClick(e,this);
      })
    }
    //eliminamos el control del zoom
    this.map.removeControl(this.map.zoomControl);
    leaflet.tileLayer(&#x27;http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#x27;, {
      attributions: &#x27;Map data &amp;copy; &lt;a href&#x3D;&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href&#x3D;&quot;http://creativecommons.org/licenses/by-sa/2.0/&quot;&gt;CC-BY-SA&lt;/a&gt;, Imagery © &lt;a href&#x3D;&quot;http://mapbox.com&quot;&gt;Mapbox&lt;/a&gt;&#x27;,
      //Establecemos un maximo y un minimo de zoom
      maxZoom: 20,
      minZoom: 5,

    }).addTo(this.map);
   

    //se añade todo al mapa

  }




  /**
   * Esta funcion es activada cuado pulsamos el boton de localizar en el mapa
   * Primero comprueba si tenemos permisos para acceder al gps del dispositivo
   * Si no es asi no pide permisos
   * Comprueba si tenemos el gps activado o no lanzando un toast
   */
  locateme() {
    
    //Comprobamos permisos
    this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(
      result &#x3D;&gt; {
        console.log(&#x27;Has permission?&#x27;,result.hasPermission);
        this.chekPer &#x3D; result.hasPermission;


        if(this.chekPer &#x3D;&#x3D; true){

          //Comprobacion del GPS si no esta activado, lanza un toast
          //Si el gps esta activado nos situa en nuestra posicion
          this.diagnostic.isGpsLocationAvailable().then((verdad) &#x3D;&gt;{
            if(verdad &#x3D;&#x3D; false){
              this.toast.show(this.translate.instant(&quot;NoGPS&quot;));
            }else {
              
              this.map.locate({ setView: true, maxZoom: 15 }).on(&#x27;locationfound&#x27;, (e) &#x3D;&gt; {  
      
              }).on(&#x27;locationerror&#x27;, (err) &#x3D;&gt; {
                //alert(err.message);
                this.toast.showTop(this.translate.instant(&quot;LSGPS&quot;))
              });
            
            }
      
          }).catch(e &#x3D;&gt; console.error(e))
        }else{
          //Pedimos permisos
          this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION);
      
        }

      });
     

  }



  /**
   * 
   * Este metodo es el encargado de mostrar en el mapa las ubicaciones de los avisos por meteorologia
   * Se mostraran o no segun el valor del boton del menu de configuracion del mapa
   * Recibe un boleano con esta informacion
   * @param hide boolean 
   */
  chargeAllMarkMeteorology(hide) {
    if(this.markerGroupM !&#x3D; null){
      this.map.removeLayer(this.markerGroupM)

    }

    if (hide &#x3D;&#x3D; false) {

      //se elimina las marcas del mapa
     

    } else {

     

      //se obtienen las marcas de meteorologia
      this.cloudS.getMarkMeteorology().then(d &#x3D;&gt; {

        this.listadoMarcaMeteorology &#x3D; d;
        //se crea un grupo de marcas
        this.markerGroupM &#x3D; leaflet.featureGroup();

        this.listadoMarcaMeteorology.forEach(element &#x3D;&gt; {

          //Se crea la marca y se le asigna a esa marca un pop up con la descripcion
          let marker: any &#x3D; leaflet.marker([element.latitud, element.longitud], { icon: this.meteoIcon }).on(&#x27;click&#x27;, () &#x3D;&gt; {
            this.map.setView([element.latitud, element.longitud], 15);
          }).bindPopup(element.descripcion);

          //se le asigna un radio de precaucion a la marca
          let circle: any &#x3D; leaflet.circle([element.latitud, element.longitud], { radius: 2000 }, { color: &#x27;green&#x27;, opacity: .5 });
          //se añade todo al grupo de marcas
          this.markerGroupM.addLayer(marker);
          this.markerGroupM.addLayer(circle);

        });
        //se le añade todas las marcas al mapa
        this.map.addLayer(this.markerGroupM);


      })
    }

    //cambia el valor del booleano recibido
    this.ocultaM &#x3D; !this.ocultaM;
    this.nativeStorage.setItem(&#x27;ocultaM&#x27;, {property: this.ocultaM} );
    
  }



  /**
   * 
   * Este metodo es el encargado de mostrar en el mapa las ubicaciones de los avisos por meteorologia
   * Se mostraran o no segun el valor del boton del menu de configuracion del mapa
   * Recibe un boleano con esta información
   * @param hide boolean 
   */
  chargeAllMarkAccident(hide) {

    if(this.markerGroupA !&#x3D; null){
      this.map.removeLayer(this.markerGroupA)

    }
    

    if (hide &#x3D;&#x3D; false) {

     //No se cargan las marcas
  

      
    } else {
      //this.map.removeLayer(this.markerGroupA);

      //se obtienen las marcas de accidente
      this.cloudS.getMarkAccident().then(d &#x3D;&gt; {

        this.listadoMarcaAccidente &#x3D; d;

        this.markerGroupA &#x3D; leaflet.featureGroup();


        this.listadoMarcaAccidente.forEach(element &#x3D;&gt; {

          //Se crea la marca y se le asigna a esa marca un pop up con la descripcion
          let marker: any &#x3D; leaflet.marker([element.latitud, element.longitud], { icon: this.accidenteIcon }).on(&#x27;click&#x27;, () &#x3D;&gt; {
            this.map.setView([element.latitud, element.longitud], 15);
          }).bindPopup(element.descripcion);

          this.markerGroupA.addLayer(marker);
          //se añade todo al grupo de marcas

        });
        //Se añade al mapa
        this.map.addLayer(this.markerGroupA);

      })

    }

    //Cambiamos el valor del booleano recibido 
    this.ocultaA &#x3D; !this.ocultaA;
    this.nativeStorage.setItem(&#x27;ocultaA&#x27;, {property: this.ocultaA} );

  }




  /**
   * Este metodo es el encargado de crear una marca en el lugar señalado por el usuario o
   * añade una marca al pulsar el botón añadir marca en la ubicación del usuario.
   * Comprueba al inicio el estado de los permisos para acceder al GPS
   * Comprueba que el gps este activado
   * Recibe la longitud y la latitud de la pulsación en el mapa
   *  @param mapMark1 latitud de la marca
   *  @param mapMark2 longitud de la marca
   */
  addMark(mapMark1?,mapMark2? ) {


    if(mapMark1 !&#x3D; null || mapMark2 !&#x3D; null){

      if(this.manualMarker !&#x3D; null){

        this.map.removeLayer(this.manualMarker);

      } 

        // this.map.removeLayer(this.manualMarker);
        this.manualMarker &#x3D; leaflet.marker([mapMark1, mapMark2]).on(&#x27;click&#x27;, async () &#x3D;&gt; {

          //se llama al metodo que recibe la marca, la latitud y la longitud
         this.touchMark(this.manualMarker,mapMark1 ,mapMark2 );
     
         });
         //this.manualMarker.addLayer(marker);
         this.map.addLayer(this.manualMarker);
      

    }else{
    //Comprueba permisos
    this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(
      result &#x3D;&gt; {
        this.chekPer &#x3D; result.hasPermission;
        if(this.chekPer &#x3D;&#x3D; true){
          //Comprobacion del GPS si no esta activado, lanza un toast
          //Si el gps esta activado nos añade la marca en la ubicacion actual
          this.diagnostic.isGpsLocationAvailable().then((verdad) &#x3D;&gt;{
            if(verdad &#x3D;&#x3D; false){
              this.toast.show(this.translate.instant(&quot;NoGPS&quot;));
            }else {
                //te localiza a traves del uso del GPS
              this.map.locate({
                setView: true, maxZoom: 15
              }).on(&#x27;locationfound&#x27;, (e) &#x3D;&gt; {
                //crea una marca en la localizacion que te encuentras
                let markerGroup &#x3D; leaflet.featureGroup();
                let marker &#x3D; leaflet.marker([e.latitude, e.longitude]);
                markerGroup.addLayer(marker);
                this.map.addLayer(markerGroup);
                //se llama al metodo que recibe la marca, la latitud y la longitud
                this.touchMark(marker, e.latitude, e.longitude);
      
              }).on(&#x27;locationerror&#x27;, (err) &#x3D;&gt; {
                //alert(err.message);
                this.toast.showTop(this.translate.instant(&quot;LSGPS&quot;))
              })
                  
                }
      
          }).catch(e &#x3D;&gt; console.error(e))
        }else{
      
          //Pedimos permisos
          this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION);
      
        }
     });
    }
     
  }


  /**
   * Metodo encargado de devolver el estado inicial 
   * de los componentes de la vista de la vista cuando
   * el modal se cierra
   */
  onModalClose() {
    //abrimos el loading
    this.loading.show(&quot;&quot;);
    //eliminamos el mapa
    this.map.remove();
    //lo volvemos a cargar
    this.loadmap();
    //establecemos el valor  del boton en funcion del valor establecido anteriormente 
    //y cargamos las marcas correspondientes
    if (this.ocultaA &#x3D;&#x3D; true) {

      this.ocultaA &#x3D; false
      console.log(&quot;false&quot;)
      this.nativeStorage.setItem(&#x27;ocultaA&#x27;, {property: this.ocultaA} );
    } else {

      console.log(&quot;true&quot;)
      this.ocultaA &#x3D; true
      this.nativeStorage.setItem(&#x27;ocultaA&#x27;, {property: this.ocultaA} );
    }
    this.chargeAllMarkAccident(this.ocultaA);

    if (this.ocultaM &#x3D;&#x3D; true) {

      this.ocultaM &#x3D; false
      console.log(&quot;false&quot;)
      this.nativeStorage.setItem(&#x27;ocultaM&#x27;, {property: this.ocultaM} );
    } else {

      console.log(&quot;true&quot;)
      this.ocultaM &#x3D; true
      this.nativeStorage.setItem(&#x27;ocultaM&#x27;, {property: this.ocultaM} );
      console.log(this.nativeStorage.getItem(&#x27;ocultaM&#x27;));
    }
    this.chargeAllMarkMeteorology(this.ocultaM);

    //llamamos al metodo para que nos localice
    this.locateme();
    //cerramos el modal
    this.loading.hide();

  }

  /**
   * Metodo que recibe la marca, la longitud y la latitud de la marca creada vacia
   * Y lanza el modal para añadir un aviso en esa posición
   * @param mark marca que ha sido pulsada en el mapa
   * @param lat latitud de la ubicación de la marca
   * @param lng longitud de la ubicación de la marca
   */
  touchMark(mark: any, lat: any, lng: any) {

     this.cmm.show(AddAlertComponent, lat, lng, this);
    
  }


  /**
   * Features for the next Version
   */

  
//Si no podemos acceder a nuetro metodo porque estamos fuera de nuestro contexto, hay que hacer un puente de nosotros mismos para poder acceder hasta el
//Esto se consigue haciendo una llamada nosotros, pasandonos this
// en este caso recibimos obj que somos nosotros mismos
//asi podemos acceder a nuesto metodo al estar en el mismo contexto
  // onMapClick(e,obj) {


  
  //   obj.addMark(e.latlng.lat, e.latlng.lng);
   
  //   alert(e.latlng.lat + e.latlng.lng);
  // }








}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;ion-content&gt;

 
  &lt;div id&#x3D;&quot;map&quot; style&#x3D;&quot;width:100%; height:100%;&quot;&gt;&lt;/div&gt;
  &lt;ion-fab class&#x3D;&quot;signal&quot; vertical&#x3D;&quot;top&quot; horizontal&#x3D;&quot;start&quot; slot&#x3D;&quot;fixed&quot;&gt;
      &lt;!--&lt;ion-icon name&#x3D;&quot;wifi&quot; color&#x3D;{{this.colorB}}&gt;&lt;/ion-icon&gt;--&gt;
  &lt;/ion-fab&gt;
  &lt;ion-fab vertical&#x3D;&quot;top&quot; horizontal&#x3D;&quot;end&quot; slot&#x3D;&quot;fixed&quot; &gt;

  &lt;ion-fab-button class&#x3D;&quot;menu&quot; &gt;
      &lt;ion-icon name&#x3D;&quot;md-settings&quot; color&#x3D;&quot;primary&quot;&gt;&lt;/ion-icon&gt;
  &lt;/ion-fab-button&gt;
  &lt;ion-fab-list  side&#x3D;&quot;start&quot;&gt;
    &lt;ion-fab-button class&#x3D;&quot;menudesp&quot;&gt;&lt;ion-icon name&#x3D;&quot;ios-car&quot; (click)&#x3D;&quot;chargeAllMarkAccident(ocultaA)&quot; [ngStyle]&#x3D;&quot;{&#x27;color&#x27;:ocultaA  ? &#x27;DARKGRAY&#x27; : &#x27;#71A1F0&#x27; }&quot;&gt;&lt;/ion-icon&gt;&lt;/ion-fab-button&gt;
  &lt;/ion-fab-list&gt;
  &lt;ion-fab-list class&#x3D;&quot;hide&quot; side&#x3D;&quot;start&quot;&gt;
    &lt;ion-fab-button class&#x3D;&quot;menudesp&quot; &gt;&lt;ion-icon name&#x3D;&quot;ios-umbrella&quot; (click)&#x3D;&quot;chargeAllMarkMeteorology(ocultaM)&quot; [ngStyle]&#x3D;&quot;{&#x27;color&#x27;:ocultaM  ? &#x27;DARKGRAY&#x27; : &#x27;#71A1F0&#x27; }&quot;&gt;&lt;/ion-icon&gt;&lt;/ion-fab-button&gt;
  &lt;/ion-fab-list&gt;
&lt;/ion-fab&gt;

  &lt;ion-fab vertical&#x3D;&quot;bottom&quot; horizontal&#x3D;&quot;end&quot; slot&#x3D;&quot;fixed&quot; &gt;
    &lt;ion-fab-button  color&#x3D;&quot;light&quot;&gt;
      &lt;ion-icon name&#x3D;&quot;md-locate&quot; color&#x3D;&quot;primary&quot; (click)&#x3D;&quot;locateme()&quot;&gt;&lt;/ion-icon&gt;
    &lt;/ion-fab-button&gt;
    &lt;ion-fab-button&gt;
      &lt;ion-icon name&#x3D;&quot;add&quot; style&#x3D;&quot;color: var(--ion-color-success-contrast)&quot; (click)&#x3D;&quot;addMark()&quot;&gt;&lt;/ion-icon&gt;
      
    &lt;/ion-fab-button&gt;
    
    
  &lt;/ion-fab&gt;
&lt;/ion-content&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>tab2.page.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">ion-fab-button{

    height: 55px;

    width: 55px;

    margin-bottom: 10px;
}

.hide{

    margin-right: 100px;
    

}

.menu{

    margin-top: 50px;
    height: 30px;
    width: 30px;
    --background: none;
}

.menudesp{
    margin-top: 40px;
    height: 45px;
    width: 45px;
    --background: var(--ion-color-primary-contrast);

}

ion-fab-list{
    margin-right: 40px;


}



ion-icon{

    height: 25px;
    width: 25px;
}

.signal{
    margin-top:30px;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><ion-content>   <div id="map" style="width:100%; height:100%;"></div>  <ion-fab class="signal" vertical="top" horizontal="start" slot="fixed">      <!--<ion-icon name="wifi" color={{this.colorB}}></ion-icon>-->  </ion-fab>  <ion-fab vertical="top" horizontal="end" slot="fixed" >  <ion-fab-button class="menu" >      <ion-icon name="md-settings" color="primary"></ion-icon>  </ion-fab-button>  <ion-fab-list  side="start">    <ion-fab-button class="menudesp"><ion-icon name="ios-car" (click)="chargeAllMarkAccident(ocultaA)" [ngStyle]="{\'color\':ocultaA  ? \'DARKGRAY\' : \'#71A1F0\' }"></ion-icon></ion-fab-button>  </ion-fab-list>  <ion-fab-list class="hide" side="start">    <ion-fab-button class="menudesp" ><ion-icon name="ios-umbrella" (click)="chargeAllMarkMeteorology(ocultaM)" [ngStyle]="{\'color\':ocultaM  ? \'DARKGRAY\' : \'#71A1F0\' }"></ion-icon></ion-fab-button>  </ion-fab-list></ion-fab>  <ion-fab vertical="bottom" horizontal="end" slot="fixed" >    <ion-fab-button  color="light">      <ion-icon name="md-locate" color="primary" (click)="locateme()"></ion-icon>    </ion-fab-button>    <ion-fab-button>      <ion-icon name="add" style="color: var(--ion-color-success-contrast)" (click)="addMark()"></ion-icon>          </ion-fab-button>          </ion-fab></ion-content></div>'
    var COMPONENTS = [{'name': 'AddAlertComponent', 'selector': 'app-add-alert'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'HelpComponent', 'selector': 'app-help'},{'name': 'Tab1Page', 'selector': 'app-tab1'},{'name': 'Tab2Page', 'selector': 'app-tab2'},{'name': 'TabsPage', 'selector': 'app-tabs'},{'name': 'ViewCardComponent', 'selector': 'app-view-card'}];
    var DIRECTIVES = [{'name': 'ScrollHideDirective', 'selector': 'scrollHide'}];
    var ACTUAL_COMPONENT = {'name': 'Tab2Page'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'Tab2Page.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
